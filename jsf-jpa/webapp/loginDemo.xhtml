<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">


<h:form>            
    
    
    <table width="100%" cellpadding="0" cellspacing="0" border="0" align="center"  class="outer_table">
       <tr>
         <td>
           <table width="500" height="300" cellpadding="0" cellspacing="0" border="0" align="center">
              <tr>
                <td align="center">
      
    			<p:growl id="growl" sticky="true" showDetail="true" life="3000" />
        			<h:panelGrid columns="2" cellpadding="5">
         		   		<h:outputLabel for="username" value="Username:" />
            				<p:inputText id="username" value="#{userLoginView.username}" required="true" label="username" />
 
           						<h:outputLabel for="password" value="Password:" />
            					<p:password id="password" value="#{userLoginView.password}" required="true" label="password" />
 
           		<f:facet name="footer">
                	<p:commandButton value="Login" update="growl" actionListener="#{userLoginView.login}" oncomplete="handleLoginRequest(xhr, status, args)" />
            	</f:facet>  
        			</h:panelGrid>    
     			 </td>
               </tr>
             </table>
          </td>
       </tr>
     </table>
    
    
    
    
</h:form>
 
<script type="text/javascript">
    function handleLoginRequest(xhr, status, args) {
        if(args.validationFailed || !args.loggedIn) {
            PF('dlg').jq.effect("shake", {times:5}, 100);
        }
        else {
            PF('dlg').hide();
            $('#loginLink').fadeOut();
        }
    }
</script>
</ui:composition>